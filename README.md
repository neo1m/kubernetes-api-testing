# Структура

- `fixtures/` - заранее подготовленные тестовые данные
- `helpers/` - вспомогательные скрипты, методы и данные
- `tests/` - тестовые сценарии
- `config.js` - кастомная конфигурация тестовых данных (например, адрес kubernetes api, mTLS сертификаты)
- `jest.setup.js` - вспомогательный код для выполнения в процессе тестов (например, логирование)
- `jest.config.js` - конфигурация тестового фреймворка jest

# Подготовка к тестированию

- проверить наличие NodeJS (например, последняя LTS версия)
- установить npm модули через `npm i` 
- в файле `./fixtures/testData.js` заполнить тестовые данные (например, данные от kubernetes node)
- в файле `./config.js` указать данные от kubernetes api и пути к клиентским сертификатам для работы mTLS

# Тестирование

- запустить все тесты
  - `npm run test`
- запустить определенную группу тестов (можно посмотреть блок *scripts* в *package.json*)
  - `npm run test:csr`
- запустить конкретный тест (указываем относительный путь к файлу с тестами)
  - `npm run test -- --testPathPattern=csr/client-approved-csr.test.js`

# Результаты тестирования

- по умолчанию в консоль логируются все выполняемые тесты
- после тестового прогона отображается краткая статистика по выполненным тестам
```
Test Suites: 6 failed, 9 passed, 15 total
Tests:       36 failed, 1312 passed, 1348 total
Snapshots:   0 total
Time:        107.157 s
Ran all test suites.
```
- для визуального анализа результатов генерируется отчет `test-report.html`, который можно посмотреть в браузере